# /create Command - Implementation Instructions

**Purpose**: To execute a pending one-phase implementation plan (previously generated by `/plancreate` and displayed in chat). The `/create` command CANNOT generate its own plan.

When the user invokes the `/create [description?]` command, follow these steps precisely:

## Step 1: Verify Existence of a Pending Plan

1.  **Check for Pending Plan**: Scan the recent chat history for a plan generated by `/plancreate`. Look specifically for content that starts with "**PENDING PLAN:**" or was generated immediately after a `/plancreate` command.
    *   If a pending plan exists in chat history, proceed to Step 2.
    *   If no pending plan exists in chat, inform the user they must first use `/plancreate [description]` to generate a plan before using `/create`, and stop execution.
    *   If multiple plans exist in history, use the most recent one (the one generated by the most recent `/plancreate` command).

## Step 2: Prepare for Plan Execution

1.  **Acknowledge Pending Plan**: Confirm that you are proceeding with the plan previously displayed in chat, referencing it by its title.
2.  **Retrieve Plan Details**: Access the details of the pending plan from the chat history.
    *   Identify all implementation steps, dependencies, and requirements from the pending plan.
    *   If the plan refers to dependencies, include installation instructions in your upcoming implementation message.
3.  **Consider Supplementary Description**: If the user provided an additional `[description]` with the `/create` command, review it for any implementation-specific context or guidance. This description does not alter the plan structure but may inform implementation details.
4.  **Aesthetic Guidelines Check (for UI)**: If the pending plan involves UI/UX work:
    *   You MUST run `read_file .session/details/aesthetic_details.md` to load the aesthetic guidelines.
    *   Internalize and prepare to apply *all* relevant aesthetic guidelines during implementation, as originally intended by the plan.

## Step 3: Execute Implementation

1.  **Dependency Installation (if planned)**: If the pending plan from `/plancreate` specified any new external dependencies:
    *   Retrieve the dependency list and planned installation commands from the plan details.
    *   For each dependency, provide the clear explanation (from the plan) in chat for why it is needed.
    *   Use `run_terminal_cmd` to execute the planned installation command (e.g., `npm install [package_name] [package_name2]`). Install one package per command unless the plan specifies installing multiple related packages together.
    *   Await user approval and successful execution of each command before proceeding to the next dependency or implementation step.
2.  **Begin Implementation**: Start implementing the remaining plan steps in sequential order.
3.  **Apply Aesthetic Guidelines (for UI Implementation)**: If UI/UX elements are involved, ensure their creation strictly follows the aesthetic guidelines from `.session/details/aesthetic_details.md`.
4.  **Use Appropriate Tools**: Create new files, modify existing ones, etc., as per the plan using the appropriate tools:
    *   `edit_file`: For creating new files or modifying existing ones
    *   `read_file`: For checking current file content before modifying
    *   `list_dir`: For exploring directory structure if needed
    *   Other tools as necessary to complete the implementation
5.  **Consider Implementation Context**: If the user provided additional `[description]` information in Step 2.3, incorporate those considerations into the implementation where appropriate, without altering the core plan structure.

## Step 4: Log the Creation Process

1.  **Session Log**: Create a new session log using the `/sessionlog` procedure defined in `.session/details/sessionlog_details.md`.
2.  **Documentation**: Document what was created, key implementation details, and any significant decisions made during execution.
3.  **Update Summary**: Update the session summary file (`summary.md`) to reflect this creation activity.

## Step 5: Provide Completion Confirmation

1.  **Confirmation Message**: After implementation is complete, provide a concise confirmation to the user.
2.  **Details**: Include what was created, how to use it (if applicable), and any suggested next steps.
3.  **Clear Pending Plan**: Note that the pending plan has been successfully executed and is no longer active.

## Notes on UI Generation:

*   When the plan involves UI elements, the aesthetic guidelines in `.session/details/aesthetic_details.md` MUST be followed for the actual implementation.
*   UI should be sophisticated, polished, visually engaging, performant, accessible, and responsive, aligned with modern design principles as detailed in `aesthetic_details.md`.

**Key Behavior**: The `/create` command is exclusively for executing existing plans generated by `/plancreate`. It cannot generate its own plans. If no pending plan from `/plancreate` exists, it will not proceed and will instruct the user to use `/plancreate` first. It never creates `.session/plan/plan.md` files, focusing solely on implementing the pending plan displayed in chat. 